<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kb.keyboard.warrior.dao.ToDoDao">

  	<select id="getToDoList" resultType="kb.keyboard.warrior.dto.TodoListDTO">
       select * 
       from todolist 
       where userno = #{param} order by todoid
    </select>
    
    <update id="checkTodo">
    	update todolist 
    	set isdone = 1 
    	where todoid = #{param1} 
    </update>
    <update id = "unCheckTodo">
    	update todolist 
    	set isdone = 0 
    	where todoid = #{param1}
    </update>
	<update id="editTodo" parameterType="kb.keyboard.warrior.dto.TodoListDTO">
		UPDATE todolist
		SET task =  #{task},
		duedate = #{duedate},
        importance = #{importance},
        category = #{category},
    	detail =  #{detail}
		WHERE todoid = #{todoid};
	</update>
	<insert id="addTodo" parameterType="kb.keyboard.warrior.dto.TodoListDTO">
		INSERT INTO todolist(userno, task, isdone, status, importance, category, duedate, detail)VALUES 
		(#{userno}, #{task}, 0 , 1 ,#{importance},#{category},#{duedate},#{detail})
	</insert>
	<insert id="deleteTodo" >
		UPDATE todolist
		SET status = 0
		WHERE todoid = #{todoid};
	</insert>
</mapper>