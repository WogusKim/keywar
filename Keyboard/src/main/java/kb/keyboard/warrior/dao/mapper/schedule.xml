<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kb.keyboard.warrior.dao.ScheduleDao">

    <insert id="scheduleNew" parameterType="kb.keyboard.warrior.dto.ScheduleDTO">
        INSERT INTO schedule (userno, title, content, startDate, endDate, shareto)
        VALUES (#{userno}, #{title}, #{content}, #{startDate}, #{endDate}, #{shareto})
    </insert>
    
	<select id="scheduleLoad" parameterType="string" resultType="kb.keyboard.warrior.dto.ScheduleDTO">
        select a.*, b.sharecolor from schedule a left join scheduleshare b on a.userno = b.userno and a.shareto = b.shareto where a.userno = #{userno}
    </select>

    <update id="scheduleEdit" parameterType="kb.keyboard.warrior.dto.ScheduleDTO">
        UPDATE schedule
        SET title=#{title}, content=#{content}, startDate=#{startDate}, endDate=#{endDate}, shareto=#{shareto}
        WHERE scheduleid = #{scheduleid}
    </update>

    <delete id="scheduleDelete" parameterType="string">
        DELETE FROM schedule WHERE scheduleid = #{scheduleid}
    </delete>
        
    
</mapper>